<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <!-- Head content unchanged -->
</head>
<body class="h-full bg-beacon-bg text-white">
  <!-- Body content unchanged -->
  <script>
    // BTC via CoinGecko
    async function fetchBTC() {
      const res = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=max');
      const data = await res.json();
      return data.prices.map(([timestamp, price]) => ({ date: new Date(timestamp), close: price }));
    }

    // MSTR & MSTY via Yahoo Finance
    async function fetchYahoo(symbol) {
      const res = await fetch(`https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=max`);
      const data = await res.json();
      const quotes = data.chart.result[0].indicators.quote[0];
      const timestamps = data.chart.result[0].timestamp;
      return timestamps.map((t, i) => ({ date: new Date(t * 1000), close: quotes.close[i] }));
    }

    async function fetchData() {
      try {
        const btcData = await fetchBTC();
        const mstrData = await fetchYahoo('MSTR');
        const mstyData = await fetchYahoo('MSTY');
        // Continue with simulation using btcData, mstrData, mstyData
      } catch (err) {
        alert('Data fetch failed: ' + err.message);
      }
    }

    // Call fetchData when needed in your app
  </script>
</body>
</html>
